package cmd

import (
	"time"

	"github.com/GeertJohan/go.rice/embedded"
)

func init() {

	// define files
	file2 := &embedded.EmbeddedFile{
		Filename:    "index.html",
		FileModTime: time.Unix(1598258784, 0),

		Content: string("<html>\n<head>\n    <script src=\"https://unpkg.com/wavesurfer.js\"></script>\n    <title>Voicy</title>\n</head>\n<body>\n<style>\n    h2 {\n        left: 100px;\n        position: relative;\n    }\n\n    #waveform {\n        width: 350px;\n        position: relative;\n    }\n</style>\n<p>\n    <button id=record>Record</button>\n    <button id=stopRecord disabled>Stop</button>\n    <button id=play disabled>Play</button>\n    <button id=send disabled>Submit</button>\n</p>\n<p>\n    <div id=\"waveform\"></div></body>\n    <audio id=recordedAudio></audio>\n</p>\n\n<script>\n    navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {\n        handlerFunction(stream);\n    });\n\n    var blob\n\n    function handlerFunction(stream) {\n        rec = new MediaRecorder(stream);\n        rec.ondataavailable = (e) => {\n            audioChunks.push(e.data);\n            if (rec.state == \"inactive\") {\n                blob = new Blob(audioChunks, { type: \"audio/mpeg-3\" });\n                recordedAudio.src = URL.createObjectURL(blob);\n                recordedAudio.controls = false;\n                recordedAudio.autoplay = false;\n            }\n            wavesurfer.loadBlob(blob);\n        };\n    }\n\n    var wavesurfer = WaveSurfer.create({\n        container: '#waveform',\n        waveColor: 'violet',\n        backgroundColor: 'white',\n        progressColor: 'purple',\n        barWidth: 3\n    });\n\n    // recordedAudio.on('')\n\n    wavesurfer.on('ready', function(){\n        play.disabled = false;\n        send.disabled = false;\n    });\n\n    wavesurfer.on('finish', function(){\n        play.disabled = false;\n    });\n\n   \n    play.onclick = (e) => {\n        console.log(\"Play was clicked\");\n        record.disabled = true;\n        stopRecord.disabled = true;\n        play.disabled = true;\n        wavesurfer.play();\n    };\n\n\n    function sendData(data) {\n        var request = new XMLHttpRequest();\n        request.addEventListener('load', function (event) {\n            if (request.status >= 200 && request.status < 300) {\n                console.log(request.responseText);\n            } else {\n                console.warn(request.statusText, request.responseText);\n            }\n        });\n        request.open(\"POST\", \"http://localhost:4000/msg\");\n        request.send(data);\n    }\n\n    send.onclick = (e) => {\n        sendData(blob);\n    };\n\n    record.onclick = (e) => {\n        console.log(\"I was clicked\");\n        record.disabled = true;\n        stopRecord.disabled = false;\n        audioChunks = [];\n        rec.start();\n    };\n\n    stopRecord.onclick = (e) => {\n        console.log(\"I was clicked\");\n        record.disabled = false;\n        stop.disabled = true;\n        rec.stop();\n    };\n</script>\n\n</html>"),
	}
	file3 := &embedded.EmbeddedFile{
		Filename:    "public.go",
		FileModTime: time.Unix(1598864367, 0),

		Content: string("// Package database contains the database artefacts of GOM as embedded resource\npackage public\n\n//go:generate parcello -r\n"),
	}
	file4 := &embedded.EmbeddedFile{
		Filename:    "resource.go",
		FileModTime: time.Unix(1598864387, 0),

		Content: string("// Code generated by parcello; DO NOT EDIT.\n\n// Package public contains embedded resources\npackage public\n\nimport \"github.com/phogolabs/parcello\"\n\nfunc init() {\n\tparcello.AddResource([]byte{\n\t\t80, 75, 3, 4, 20, 0, 8, 0, 8, 0, 204, 69, 24, 81, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 0, 9, 0, 105, 110, 100, 101,\n\t\t120, 46, 104, 116, 109, 108, 85, 84, 5, 0, 1, 96, 126, 67,\n\t\t95, 180, 86, 223, 111, 219, 54, 16, 126, 247, 95, 113, 208,\n\t\t128, 90, 6, 50, 201, 107, 182, 23, 71, 18, 176, 181, 27, 54,\n\t\t32, 69, 139, 164, 89, 7, 12, 123, 160, 197, 179, 197, 134,\n\t\t38, 57, 242, 36, 215, 8, 252, 191, 15, 148, 100, 155, 82,\n\t\t237, 54, 3, 54, 189, 216, 226, 125, 247, 241, 126, 241, 19,\n\t\t179, 138, 54, 178, 152, 100, 21, 50, 94, 76, 0, 0, 50, 87,\n\t\t90, 97, 8, 156, 45, 243, 168, 34, 50, 110, 145, 166, 181,\n\t\t50, 143, 235, 164, 212, 155, 116, 203, 26, 116, 181, 93, 161,\n\t\t77, 62, 186, 168, 200, 210, 14, 222, 251, 146, 32, 137, 197,\n\t\t239, 90, 148, 187, 44, 237, 94, 38, 89, 218, 145, 103, 75,\n\t\t205, 119, 197, 36, 115, 180, 243, 203, 30, 95, 189, 132, 167,\n\t\t246, 143, 127, 36, 174, 104, 1, 223, 205, 231, 230, 211, 205,\n\t\t113, 209, 104, 39, 72, 104, 181, 0, 139, 146, 145, 104, 176,\n\t\t179, 237, 39, 237, 207, 55, 62, 156, 149, 182, 155, 128, 103,\n\t\t43, 56, 85, 11, 184, 254, 225, 153, 68, 89, 218, 71, 148,\n\t\t153, 62, 139, 101, 77, 164, 21, 8, 158, 91, 44, 181, 229,\n\t\t197, 93, 251, 147, 165, 157, 225, 51, 148, 35, 109, 58, 8,\n\t\t112, 225, 216, 82, 34, 47, 238, 73, 155, 139, 14, 70, 178,\n\t\t221, 9, 250, 78, 178, 221, 101, 110, 84, 33, 107, 189, 220,\n\t\t8, 58, 129, 179, 212, 4, 113, 115, 209, 120, 151, 232, 80,\n\t\t20, 223, 30, 46, 154, 34, 75, 187, 210, 183, 32, 86, 115,\n\t\t161, 79, 185, 33, 255, 209, 47, 20, 89, 218, 26, 122, 202,\n\t\t73, 22, 182, 85, 177, 70, 172, 25, 105, 155, 108, 144, 11,\n\t\t246, 26, 27, 81, 162, 75, 214, 72, 15, 14, 237, 27, 191, 22,\n\t\t63, 65, 235, 191, 0, 178, 53, 194, 126, 150, 80, 133, 42,\n\t\t142, 29, 89, 100, 155, 25, 228, 69, 208, 161, 138, 41, 46,\n\t\t209, 254, 82, 171, 210, 183, 228, 0, 234, 27, 50, 187, 233,\n\t\t122, 219, 48, 11, 75, 169, 151, 221, 219, 170, 7, 95, 114,\n\t\t14, 232, 45, 150, 144, 131, 194, 45, 180, 161, 117, 157, 65,\n\t\t59, 220, 166, 7, 38, 90, 113, 70, 140, 53, 76, 72, 95, 98,\n\t\t200, 33, 198, 81, 184, 254, 105, 147, 123, 85, 213, 234, 209,\n\t\t37, 166, 118, 85, 140, 137, 247, 11, 200, 252, 35, 86, 16,\n\t\t123, 82, 71, 140, 16, 242, 28, 34, 161, 88, 233, 135, 45,\n\t\t154, 141, 8, 253, 227, 179, 235, 35, 253, 73, 234, 101, 28,\n\t\t108, 114, 5, 79, 64, 59, 131, 11, 136, 218, 213, 116, 99,\n\t\t112, 253, 237, 117, 212, 150, 103, 204, 51, 232, 100, 226,\n\t\t172, 79, 255, 225, 238, 54, 41, 45, 50, 194, 183, 203, 143,\n\t\t88, 210, 195, 221, 109, 236, 247, 251, 170, 123, 169, 21,\n\t\t89, 45, 29, 228, 176, 98, 210, 225, 215, 240, 172, 38, 221,\n\t\t206, 243, 89, 252, 126, 240, 22, 136, 135, 212, 140, 183,\n\t\t73, 143, 130, 218, 15, 206, 183, 159, 129, 147, 19, 228, 240,\n\t\t129, 53, 120, 223, 49, 116, 217, 197, 167, 178, 250, 200,\n\t\t153, 80, 104, 23, 48, 61, 10, 195, 244, 106, 18, 238, 254,\n\t\t74, 75, 237, 237, 141, 208, 18, 41, 48, 46, 89, 249, 184,\n\t\t182, 186, 86, 252, 0, 217, 86, 130, 48, 64, 24, 171, 215,\n\t\t22, 157, 59, 216, 77, 109, 141, 196, 1, 133, 253, 208, 107,\n\t\t207, 112, 146, 211, 116, 84, 51, 173, 226, 233, 116, 214,\n\t\t25, 131, 154, 248, 101, 139, 140, 239, 166, 87, 199, 121,\n\t\t143, 103, 167, 4, 125, 153, 147, 131, 22, 124, 94, 111, 47,\n\t\t21, 23, 204, 199, 80, 70, 187, 173, 132, 18, 174, 250, 247,\n\t\t219, 29, 248, 38, 71, 156, 86, 165, 20, 229, 227, 185, 243,\n\t\t83, 106, 229, 180, 196, 68, 234, 117, 28, 121, 177, 131, 45,\n\t\t115, 208, 194, 145, 71, 195, 243, 168, 237, 32, 5, 47, 38,\n\t\t65, 130, 71, 157, 189, 140, 25, 7, 61, 180, 6, 233, 123, 96,\n\t\t124, 208, 156, 155, 201, 72, 101, 124, 45, 95, 51, 98, 113,\n\t\t123, 202, 131, 100, 252, 68, 90, 252, 187, 70, 71, 253, 209,\n\t\t253, 227, 205, 237, 175, 68, 230, 174, 91, 140, 7, 249, 180,\n\t\t75, 9, 227, 252, 231, 6, 21, 221, 10, 71, 168, 208, 198, 83,\n\t\t63, 253, 65, 213, 33, 70, 111, 31, 107, 68, 39, 39, 29, 135,\n\t\t151, 148, 218, 65, 145, 195, 203, 249, 28, 94, 188, 128, 145,\n\t\t33, 131, 235, 249, 252, 156, 200, 132, 213, 63, 248, 88, 116,\n\t\t70, 43, 135, 239, 241, 19, 141, 4, 97, 15, 40, 29, 126, 129,\n\t\t103, 203, 172, 26, 69, 229, 105, 174, 224, 57, 228, 199, 183,\n\t\t253, 153, 50, 105, 131, 42, 142, 222, 189, 189, 127, 31, 93,\n\t\t65, 123, 245, 88, 164, 169, 212, 37, 147, 149, 118, 180, 248,\n\t\t126, 62, 159, 167, 27, 183, 142, 206, 184, 250, 118, 197,\n\t\t129, 32, 247, 242, 209, 158, 136, 47, 76, 230, 177, 203, 129,\n\t\t8, 237, 251, 147, 210, 15, 227, 115, 231, 250, 183, 255, 118,\n\t\t168, 71, 71, 59, 248, 50, 64, 14, 127, 254, 53, 252, 134,\n\t\t57, 98, 150, 226, 81, 252, 1, 239, 255, 144, 195, 88, 122,\n\t\t72, 155, 203, 41, 118, 49, 106, 19, 132, 120, 186, 55, 250,\n\t\t251, 161, 191, 131, 254, 19, 0, 0, 255, 255, 80, 75, 7, 8,\n\t\t149, 36, 217, 138, 165, 3, 0, 0, 138, 10, 0, 0, 80, 75, 1,\n\t\t2, 20, 3, 20, 0, 8, 0, 8, 0, 204, 69, 24, 81, 149, 36, 217,\n\t\t138, 165, 3, 0, 0, 138, 10, 0, 0, 10, 0, 9, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 164, 129, 0, 0, 0, 0, 105, 110, 100, 101, 120,\n\t\t46, 104, 116, 109, 108, 85, 84, 5, 0, 1, 96, 126, 67, 95,\n\t\t80, 75, 5, 6, 0, 0, 0, 0, 1, 0, 1, 0, 65, 0, 0, 0, 230, 3,\n\t\t0, 0, 0, 0,\n\t})\n}\n"),
	}

	// define dirs
	dir1 := &embedded.EmbeddedDir{
		Filename:   "",
		DirModTime: time.Unix(1598864375, 0),
		ChildFiles: []*embedded.EmbeddedFile{
			file2, // "index.html"
			file3, // "public.go"
			file4, // "resource.go"

		},
	}

	// link ChildDirs
	dir1.ChildDirs = []*embedded.EmbeddedDir{}

	// register embeddedBox
	embedded.RegisterEmbeddedBox(`../public`, &embedded.EmbeddedBox{
		Name: `../public`,
		Time: time.Unix(1598864375, 0),
		Dirs: map[string]*embedded.EmbeddedDir{
			"": dir1,
		},
		Files: map[string]*embedded.EmbeddedFile{
			"index.html":  file2,
			"public.go":   file3,
			"resource.go": file4,
		},
	})
}
